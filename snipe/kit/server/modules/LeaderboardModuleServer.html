<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../../jquery-1.9.1.min.js"></script><script src="../../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["uniserver"]};</script><script type="text/javascript" src="../../../..//nav.js"></script><script type="text/javascript" src="../../../..//index.js"></script><link rel="icon" href="../../../..//favicon.png" type="image/png"></link><title>snipe.kit.server.modules.LeaderboardModuleServer</title></head><body><nav class="navbar dark navbar-static-top" role="navigation">  <div class="container" style="height:45px;">   <div class="navbar-header"><!--
	    <a class="brand" href="http://haxe.org/"><img src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107" height="21" alt="Haxe" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'"/></a>-->
        <span class="tagline"><a href="/">Snipe Server API Documentation</a></span><div class="pull-right"><!--
			<a href="http://haxe.org/download/" target="_blank">Download</a> |
			<a href="http://haxe.org/manual/" target="_blank">Read the manual</a>
-->
</div>   </div>  </div></nav><div class="container">        <div class="row-fluid">            <div class="span3">              <div class="well sidebar-nav">                <form class="form-search" id="searchForm">                  <div class="input-prepend input-block-level">                    <span class="add-on"><i class="icon-search"></i></span>                    <input id="search" type="text" placeholder="Search" autocomplete="off"/>                  </div>                </form><!--
				<div class="dropdown">
					<select id="select-platform" class="selectpicker" title="Filter by platform" data-width="100%">
						<option value="all" selected="true">All Platforms</option>
						::foreach i api.config.platforms::
							<option>::i::</option>
						::end::
					</select>
				</div>
-->
</div>              <div class="well sidebar-nav">                <div id="nav"></div>              </div>            </div>            <div class="span9"><div class="page-header">                    <h4><small>package snipe.kit.server.modules</small></h4>    <h1>            <small>class</small>            LeaderboardModuleServer        </h1>                <h4>            <small>extends</small> <a class="type" title="Base server module class." href="../../../../snipe/server/Module.html">Module</a>&lt;<a class="type" title="Client information class." href="../../../../snipe/server/ClientInfo.html">ClientInfo</a>, <a class="type" title="" href="../../../../snipe/server/ProjectInfo.html">ProjectInfo</a>&gt;        </h4>                                </div><div class="body">        <div class="doc doc-main">            <div class="indent">                <p>Kit leaderboards module.</p>
<p>Handles client requests only on game servers.</p>            </div>        </div>                                                                                                                                                                            <h3 class="section">Constructor</h3>        <div class="fields">                                                                                        <div class="field "><a name="new"></a><h3><p><code>    <a href="#new"><span class="identifier">new</span></a> (srv:<a class="type" title="Server class." href="../../../../snipe/server/Server.html">Server</a>, p:<a class="type" title="" href="../../../../snipe/server/ProjectInfo.html">ProjectInfo</a>)</code></p></h3><div class="doc"><p></p></div></div>                                                                                                                                                                                                                                                                                                                                                                            </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <h3 class="section">Methods</h3>        <div class="fields">                                                                                                                                    <div class="field "><a name="add"></a><h3><p><code>    <a href="#add"><span class="identifier">add</span></a> (boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, entityID:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>, points:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../../../Float.html">Float</a>, ?customInfo:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, ?boardKey:<a class="type" title="The basic String class." href="../../../../String.html">String</a>):<a class="type" title="The standard Void type." href="../../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Adds a record to the registered leaderboard. If the record with this entity ID exists, it will be overwritten. If the custom info argument is set and the board allows it, will also store custom info for the record for future use.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>boardID</code> <p>Leaderboard ID. Will throw an exception if this leaderboard does not exist.</p>        </div>            <div class="indent inline-content">            <code>entityID</code> <p>Leaderboard record ID. Should be user ID in case of user leaderboard, for example.</p>        </div>            <div class="indent inline-content">            <code>points</code> <p>New points value.</p>        </div>            <div class="indent inline-content">            <code>customInfo</code> <p>(optional) Custom record info string. Max 1024 bytes long.</p>        </div>            <div class="indent inline-content">            <code>boardKey</code> <p>(optional) Leaderboard storage key. Needed for API calls to leaderboards with rotations to handle transactions.</p>        </div>    </div></div>                                                                                                                            <div class="field "><a name="getBoardKey"></a><h3><p><code>    <a href="#getBoardKey"><span class="identifier">getBoardKey</span></a> (boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>):<a class="type" title="The basic String class." href="../../../../String.html">String</a></code></p></h3><div class="doc"><p>Returns a current storage key for a given leaderboard ID. This is mainly needed to make transactions for rotational leaderboards.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>boardID</code> <p>Leaderboard ID.</p>        </div>        <p class="javadoc">Returns:</p>    <div class="indent inline-content">        <p>Leaderboard storage key.</p>    </div></div></div>                                                                                                                            <div class="field "><a name="getCall"></a><h3><p><code>    <a href="#getCall"><span class="identifier">getCall</span></a> (c:<a class="type" title="Client information class." href="../../../../snipe/server/ClientInfo.html">ClientInfo</a>, params:<a class="type" title="Client request parameters." href="../../../../snipe/lib/Params.html">Params</a>):{timeLeft:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>, self:<a class="type" title="" href="../../../../snipe/kit/server/modules/_LeaderboardRecord.html">_LeaderboardRecord</a>, list:<a class="type" title="An Array is a storage for values." href="../../../../Array.html">Array</a>&lt;<a class="type" title="" href="../../../../snipe/kit/server/modules/_LeaderboardRecord.html">_LeaderboardRecord</a>&gt;, errorCode:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>}</code></p></h3><div class="doc"><p><strong>kit/leaderboard.get</strong></p>
<p>Returns a chunk of a given leaderboard with both custom and common record infos included.</p>
<p>Input:</p><ul><li><code>boardID</code> - <code><a href="../../../../String.html">String</a></code>. Leaderboard ID.</li><li><code>minPlace</code> - <code><a href="../../../../Int.html">Int</a></code>. Minimum place. Default is 1.</li><li><code>limit</code> - <code><a href="../../../../Int.html">Int</a></code>. Amount of records to pull starting from minimum place. Default and maximum is 100.</li><li><code>getSelf</code> - <code><a href="../../../../Bool.html">Bool</a></code>. If true, will also get leaderboard record for this user.</li></ul>
<p>Output:</p><ul><li><code>errorCode</code> - <code><a href="../../../../String.html">String</a></code>. Operation error code.</li><li><code>boardID</code> - <code><a href="../../../../String.html">String</a></code>. Leaderboard ID.</li><li><code>list</code> - <code><a href="../../../../Array.html">Array</a>&lt;{ id: <a href="../../../../Int.html">Int</a>, place: <a href="../../../../Int.html">Int</a>, score: <a href="../../../../Float.html">Float</a>, info: <a href="../../../../String.html">String</a>, customInfo: <a href="../../../../String.html">String</a> }&gt;</code>. Leaderboard contents. <code>info</code> and <code>customInfo</code> can be null.</li><li><code>self</code> - Leaderboard record for this user in the same format as list record. If there is no such record or <code>getSelf</code> is false, <code>self</code> is set to null.</li><li><code>timeLeft</code> - Seconds left until the next leaderboard rotation. Equals 0 if this leaderboard is not rotated.</li></ul>
<p>Error codes:</p><ul><li><code>ok</code> - Operation successful.</li></ul></div></div>                                                                                                                            <div class="field "><a name="getPlace"></a><h3><p><code>    <a href="#getPlace"><span class="identifier">getPlace</span></a> (boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, entityID:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>):<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a></code></p></h3><div class="doc"><p>Returns a place that this entity ID holds in this leaderboard.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>boardID</code> <p>Leaderboard ID. Will throw an exception if this leaderboard does not exist.</p>        </div>            <div class="indent inline-content">            <code>entityID</code> <p>Leaderboard record ID. Should be user ID in case of user leaderboard, for example.</p>        </div>        <p class="javadoc">Returns:</p>    <div class="indent inline-content">        <p>Place in the leaderboard starting from 1. Returns 0 if there is no such record.</p>    </div></div></div>                                                                                                                            <div class="field "><a name="getScore"></a><h3><p><code>    <a href="#getScore"><span class="identifier">getScore</span></a> (boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, entityID:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>, ?boardKey:<a class="type" title="The basic String class." href="../../../../String.html">String</a>):<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../../../Float.html">Float</a></code></p></h3><div class="doc"><p>Returns a score that this entity ID holds in this leaderboard.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>boardID</code> <p>Leaderboard ID. Will throw an exception if this leaderboard does not exist.</p>        </div>            <div class="indent inline-content">            <code>entityID</code> <p>Leaderboard record ID. Should be user ID in case of user leaderboard, for example.</p>        </div>            <div class="indent inline-content">            <code>boardKey</code> <p>(optional) Leaderboard storage key. Needed for API calls to leaderboards with rotations to handle transactions.</p>        </div>        <p class="javadoc">Returns:</p>    <div class="indent inline-content">        <p>Score in the leaderboard. Returns 0 if there is no such record.</p>    </div></div></div>                                                                                                                            <div class="field "><a name="remove"></a><h3><p><code>    <a href="#remove"><span class="identifier">remove</span></a> (boardID:<a class="type" title="The basic String class." href="../../../../String.html">String</a>, entityID:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>):<a class="type" title="The standard Void type." href="../../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Removes a leaderboard record with this entity ID. In case of leaderboards with rotation it will only remove the record from the current one.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>boardID</code> <p>Leaderboard ID. Will throw an exception if this leaderboard does not exist.</p>        </div>            <div class="indent inline-content">            <code>entityID</code> <p>Leaderboard record ID. Should be user ID in case of user leaderboard, for example.</p>        </div>    </div></div>                                                                                                                            <div class="field "><a name="updateInfoUser"></a><h3><p><code>    <a href="#updateInfoUser"><span class="identifier">updateInfoUser</span></a> (entityID:<a class="type" title="The standard Int type." href="../../../../Int.html">Int</a>, infostr:<a class="type" title="The basic String class." href="../../../../String.html">String</a>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Updates user info string for user leaderboards.</p>    <p class="javadoc">Parameters:</p>            <div class="indent inline-content">            <code>entityID</code> <p>User ID.</p>        </div>            <div class="indent inline-content">            <code>infostr</code> <p>Info string. Max length 1024 bytes.</p>        </div>        <p class="javadoc">Returns:</p>    <div class="indent inline-content">        <p>True in case of success. False otherwise.</p>    </div></div></div>                                                        </div>                            </div></div>        </div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2017&nbsp;<a href="http://mini-it.ru/index_en.htm" title="Mini IT Website" class="hf-link">Mini IT Ltd</a></p></div></div></footer>    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>